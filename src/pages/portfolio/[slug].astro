---
import Layout from "@/layouts/Layout.astro";
import ProjectDetail from "@/components/ProjectDetail.astro";
import { portfolio } from "@/data/site.js";

export async function getStaticPaths() {
  return portfolio.map((project) => ({
    params: { slug: project.slug },
    props: { project },
  }));
}

const { project } = Astro.props;
---

<Layout title={`${project.title} - Portfolio | David Verta`}>
  <!-- Portfilio Single Item Popup â„–1 Start -->
  <div class="popup" data-lenis-prevent="">
    <!-- Popup Close Button Start -->
    <button class="mfp-close permanent-light"></button>
    <!-- Popup Close Button End -->
    <div class="container-fluid p-0">
      <div class="row g-0">
        <div class="col-12">
          <div class="popup__container">
            <div class="container-fluid p-0">
              <div class="row g-0">
                <div class="col-12">
                  <ProjectDetail project={project} />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</Layout>
<!-- Project Detail Page End -->

<style>
  .project-detail-page {
    padding: 2rem 0;
    min-height: 100vh;
    background: var(--color-bg);
  }

  .project-detail-page .popup__container {
    max-width: 100%;
    margin: 0 auto;
  }
</style>
